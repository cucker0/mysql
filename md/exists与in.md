exists 与 in
==

## 示例
```mysql
-- 对表B 查询涉及 id，使用索引，故表B效率高，可用大表 -->外小内大

SELECT * FROM A
WHERE exists (SELECT * FROM B WHERE A.id = B.id);
```


```mysql
-- 对表A查询涉及id，使用索引，故表A效率高，可用大表 -->外大内小

SELECT * FROM A
WHERE A.id IN (SELECT id FROM B);
```

1. EXISTS 是对外表做 loop 循环，每次 LOOP 循环再对内表（子查询）进行查询，
那么因为对内表的查询使用的索引（内表效率高，故可用大表），而外表有多大都需要遍历，不可避免（尽量用小表），
故内表大的使用 EXISTS，可加快效率；
EXISTS 在子查询表大但只需验证是否存在对应关系时更高效，它支持“短路”机制，一旦找到匹配项就结束子查询，不必遍历完整个子查询表。
2. IN 是把外表 和 内表做 hash 连接，先查询内表，再把内表结果与外表匹配，
对外表使用索引（外表效率高，可用大表），而内表多大都需要查询，不可避免，故外表大的使用 IN，可加快效率。
3. 如果查询的两个表大小相当，那么用 IN 和 EXISTS 差别不大。
如果两个表中一个较小，一个是大表，则子查询表大的用 EXISTS，子查询表小的用 IN。

结论：
* 单纯的理解EXISTS比IN语句的效率要高的说法其实是不准确的，要区分情景:
* 如果查询的两个表大小相当，那么用 EXISTS 和 IN 差别不大。
* 如果两个表中一个较小，一个是大表，则子查询表大的用 EXISTS，子查询表小的用 IN。
* 让大表尽量使用索引